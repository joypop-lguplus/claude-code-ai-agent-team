# 04 — 데이터 마이그레이션

> 변경 요청 `{{CR_ID}}`에 의해 `/claude-sdd:sdd-change`가 자동 생성

## 변경 요약

- **변경 요청**: {{CR_ID}} — {{CR_TITLE}}
- **영향 엔티티**: {{AFFECTED_ENTITY_COUNT}}개
- **마이그레이션 필요**: {{MIGRATION_REQUIRED}}

## 영향받는 데이터 모델

### {{ENTITY_NAME}} — {{CHANGE_TYPE}}

- **변경 유형**: {{ADD/MODIFY/DELETE}}
- **스펙 ID**: {{SPEC_ID}}
- **원본 스펙**: 04-data-model.md#{{SECTION_REF}}
- **변경 사유**: {{CHANGE_REASON}}

**변경 전** (기존 스키마):

```
{{BEFORE_SCHEMA}}
```

**변경 후** (신규 스키마):

```
{{AFTER_SCHEMA}}
```

**필드 변경 상세**:

| 필드 | 변경 유형 | 이전 타입 | 이후 타입 | 기본값 | 설명 |
|------|-----------|-----------|-----------|--------|------|
| {{FIELD}} | {{ADD/MODIFY/DELETE}} | {{BEFORE_TYPE}} | {{AFTER_TYPE}} | {{DEFAULT}} | {{DESCRIPTION}} |

---

## 마이그레이션 스크립트

### 마이그레이션 순서

1. {{MIGRATION_STEP}}

### 마이그레이션 SQL / 스크립트

```sql
{{MIGRATION_SCRIPT}}
```

### 롤백 스크립트

```sql
{{ROLLBACK_SCRIPT}}
```

## 데이터 정합성 검증

| 검증 항목 | 쿼리/방법 | 기대 결과 |
|-----------|-----------|-----------|
| {{CHECK_NAME}} | {{CHECK_METHOD}} | {{EXPECTED}} |

## 영향받는 인덱스 / 제약 조건

| 대상 | 변경 유형 | 설명 |
|------|-----------|------|
| {{INDEX_OR_CONSTRAINT}} | {{ADD/MODIFY/DELETE}} | {{DESCRIPTION}} |

## 다운타임 예상

- **예상 소요 시간**: {{ESTIMATED_DURATION}}
- **무중단 가능 여부**: {{ZERO_DOWNTIME}}
- **롤백 가능 여부**: {{ROLLBACK_POSSIBLE}}

---

*변경 요청: {{CR_ID}} | 원본: 09-change-request.md | 참조: 04-data-model.md*
