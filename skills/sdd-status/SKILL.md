---
name: sdd-status
description: SDD 라이프사이클 진행 상황, 단계 상태, 체크리스트 완료율을 확인합니다. 멀티 도메인 프로젝트에서는 도메인별 진행 상황을 표시합니다.
---

# /claude-sdd:sdd-status — SDD 상태 대시보드

이 프로젝트의 SDD 라이프사이클 현재 상태를 표시합니다.

## 사용법

```
/claude-sdd:sdd-status                          # 단일: 기존 동작 / 멀티: 프로젝트 대시보드
/claude-sdd:sdd-status --domain=<id>            # 특정 도메인 상세 상태
```

## 사전 조건

1. `docs/specs/sdd-config.yaml`을 읽습니다. 존재하지 않으면:
   ```
   이 프로젝트는 SDD로 초기화되지 않았습니다.
   시작하려면 /claude-sdd:sdd-init을 실행하세요.
   ```
2. **도메인 모드 감지**: `domains` 키 존재 여부로 단일/멀티 도메인 모드를 결정합니다.

---

## 동작 (단일 도메인 모드)

### 1단계: SDD 초기화 확인

`docs/specs/sdd-config.yaml`을 읽습니다.

### 2단계: 현재 단계 감지

존재하는 스펙 파일을 확인하여 현재 단계를 결정합니다:

| 존재하는 파일 | 단계 | 상태 |
|--------------|-------|--------|
| 스펙 파일 없음 | 1. Intake | 시작되지 않음 |
| `01-requirements.md` | 2. Spec | 요구사항 수집 완료 |
| `02-*.md`부터 `05-*.md` | 3. Plan | 스펙 생성 완료 |
| `06-spec-checklist.md` | 3. Plan | 체크리스트 준비 완료 |
| `07-task-plan.md` | 4. Build | 태스크 분해 완료 |
| `10-analysis-report.md` (레거시) | 4a. Analysis | 분석 완료, 갭 해소 대기 |
| `08-review-report.md` | 5. Review | 리뷰 완료 |
| `09-change-request.md` (진행 중) | 6. Change | 변경 진행 중 |
| `09-change-request.md` (완료) | 7. Complete | 변경 완료 |

### 3단계: 체크리스트 진행률 표시

`06-spec-checklist.md`가 존재하면 파싱하여 표시합니다:
- 전체 항목 수
- 완료된 항목 (`[x]`)
- 미완료 항목 (`[ ]`)
- 완료 비율
- 카테고리별 분석 (ARCH, API, DM, COMP, TEST, SEC, PERF, UI)

### 3.5단계: 변경 사이클 이력 표시

`sdd-config.yaml`에 `change_cycles`가 존재하면 변경 사이클 이력을 표시합니다:

```
변경 사이클 이력:
  CR-001: 사용자 프로필 API 변경   완료 (2025-03-15)
  CR-002: 결제 모듈 데이터 모델 변경  진행 중 — Phase 5 (델타 빌드)
```

`09-change-request.md`가 존재하고 status가 "완료"가 아닌 경우 "Change In Progress" 단계를 표시합니다:

```
단계별 진행 상황:
  [x] 1. Intake      — 요구사항 수집 완료
  [x] 2. Spec        — 5개 스펙 문서 생성 완료
  [x] 3. Plan        — 4개 워크 패키지에 12개 태스크
  [x] 4. Build       — 12/12 체크리스트 항목 완료 (100%)
  [x] 5. Review      — 리뷰 통과
  [x] 6. Integrate   — 통합 완료
  [ ] 7. Change      — CR-002 진행 중 (Phase 5: 델타 빌드, 3/5 CHG- 항목 완료)
```

### 4단계: 단일 도메인 대시보드 표시

```
╔══════════════════════════════════════════════════╗
║  SDD 상태 대시보드                                ║
╚══════════════════════════════════════════════════╝

프로젝트: [name] (유형: new/legacy)

단계별 진행 상황:
  [x] 1. Intake      — 요구사항 수집 완료
  [x] 2. Spec        — 5개 스펙 문서 생성 완료
  [x] 3. Plan        — 4개 워크 패키지에 12개 태스크
  [ ] 4. Build       — 8/12 체크리스트 항목 완료 (67%)
  [ ] 5. Review      — 시작되지 않음
  [ ] 6. Integrate   — 시작되지 않음
  [ ] 7. Document    — 시작되지 않음

레거시 프로젝트인 경우 Build 단계를 세분화하여 표시합니다:
  [x] 4a. Analysis   — 18/24 항목 충족, 6개 갭 식별
  [ ] 4b. Change     — CR-001 진행 중 (Phase 5: 델타 빌드, 2/3 CHG- 완료)

체크리스트: 8/12 완료 (67%)
  ARCH:  2/2  ██████████ 100%
  API:   3/4  ███████░░░  75%
  DM:    2/2  ██████████ 100%
  TEST:  1/4  ██░░░░░░░░  25%

다음 작업: /claude-sdd:sdd-build (구현 계속)
```

---

## 동작 (멀티 도메인 모드)

### 인자 없음: 프로젝트 멀티 도메인 대시보드

모든 도메인의 진행 상황을 한눈에 볼 수 있는 대시보드를 표시합니다.

#### 도메인 상태 감지

각 도메인에 대해 `docs/specs/domains/<id>/` 디렉토리의 파일 존재를 확인하여 현재 단계를 결정합니다:
- 파일 없음 → `Intake` (시작되지 않음)
- `01-requirements.md` 존재 → `Spec` (요구사항 수집 완료)
- `02~05-*.md` 존재 → `Plan` (스펙 생성 완료)
- `06-spec-checklist.md` 존재 → `Plan` (체크리스트 준비)
- `07-task-plan.md` 존재 → `Build` (태스크 분해 완료)
- `08-review-report.md` 존재, 100% 통과 → `Complete` (리뷰 통과)
- `08-review-report.md` 존재, 미통과 → `Review` (리뷰 완료, 재작업 필요)

체크리스트가 존재하면 `[x]`/`[ ]` 비율을 파싱합니다.

#### 프로젝트 대시보드 표시

```
╔═══════════════════════════════════════════════════════════════════╗
║  SDD 멀티 도메인 대시보드                                          ║
╚═══════════════════════════════════════════════════════════════════╝

프로젝트: [name] (유형: new, 멀티 도메인)

┌─────────────────────────────────────────────────────────────────┐
│  도메인별 진행 상황                                                │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  [device-mgmt] 단말관리                                          │
│  단계: Build  체크리스트: 14/19 (74%)                              │
│  ████████████████░░░░░░  74%                                    │
│  다음: /claude-sdd:sdd-build --domain=device-mgmt               │
│                                                                 │
│  [subscription] 구독 서비스                                       │
│  단계: Spec   체크리스트: — (스펙 생성 중)                           │
│  ░░░░░░░░░░░░░░░░░░░░░░   0%                                   │
│  다음: /claude-sdd:sdd-spec --domain=subscription               │
│                                                                 │
│  [rate-plan] 요금제                                               │
│  단계: Complete  체크리스트: 15/15 (100%)                          │
│  ██████████████████████ 100%   ✓ 리뷰 통과                      │
│                                                                 │
│  [rate-benefit] 요금제혜택                                        │
│  단계: Plan   체크리스트: 0/18 (0%)                                │
│  ░░░░░░░░░░░░░░░░░░░░░░   0%                                   │
│  다음: /claude-sdd:sdd-plan --domain=rate-benefit               │
│                                                                 │
├─────────────────────────────────────────────────────────────────┤
│  크로스 도메인 통합                                                │
│  상태: 대기 (모든 도메인 빌드 완료 후 실행 가능)                      │
│  통합 체크리스트: 0/8 (0%)                                        │
├─────────────────────────────────────────────────────────────────┤
│  프로젝트 전체                                                    │
│  ████████████░░░░░░░░░░  42%  (29/84 도메인 + 0/8 통합)          │
│                                                                 │
│  권장 다음 작업:                                                  │
│    /claude-sdd:sdd-build --domain=device-mgmt (가장 높은 진행률)   │
└─────────────────────────────────────────────────────────────────┘
```

#### 프로젝트 전체 진행률 계산

1. 각 도메인의 체크리스트 `[x]`/`[ ]`를 합산합니다.
2. 크로스 도메인 통합 체크리스트를 포함합니다.
3. 전체 진행률 = (완료된 항목 합계) / (전체 항목 합계)

#### 권장 다음 작업 결정

가장 높은 진행률을 가진 도메인의 다음 단계를 권장합니다:
- 빌드 중인 도메인이 있으면 → 해당 도메인 빌드 계속
- 모든 도메인 빌드 완료이면 → 크로스 도메인 통합 빌드
- 통합 빌드 완료이면 → 리뷰
- 리뷰 완료이면 → 통합

### --domain=<id> (특정 도메인 상세 상태)

특정 도메인의 전체 단일 도메인 스타일 대시보드를 표시합니다:

```
╔══════════════════════════════════════════════════╗
║  SDD 상태 대시보드 — device-mgmt (단말관리)        ║
╚══════════════════════════════════════════════════╝

프로젝트: [name] > 도메인: device-mgmt
의존성: 없음

단계별 진행 상황:
  [x] 1. Intake      — 요구사항 수집 완료 (DEV-FR: 15개)
  [x] 2. Spec        — 5개 스펙 문서 생성 완료
  [x] 3. Plan        — 3개 워크 패키지에 9개 태스크
  [ ] 4. Build       — 14/19 체크리스트 항목 완료 (74%)
  [ ] 5. Review      — 시작되지 않음
  [ ] 6. Integrate   — 시작되지 않음

체크리스트: 14/19 완료 (74%)
  DEV-ARCH:  2/2  ██████████ 100%
  DEV-API:   5/6  ████████░░  83%
  DEV-DM:    3/3  ██████████ 100%
  DEV-COMP:  2/3  ██████░░░░  67%
  DEV-TEST:  2/5  ████░░░░░░  40%

워크 패키지 상태:
  DEV-WP-1: 단말 등록 모듈    ✓ 완료 (7/7)
  DEV-WP-2: 단말 조회 모듈    ✓ 완료 (6/6)
  DEV-WP-3: 단말 상태관리     진행 중 (1/6)

다음 작업: /claude-sdd:sdd-build --domain=device-mgmt DEV-WP-3
```

---

## 의존성

- `docs/specs/sdd-config.yaml` (선택 사항 — 없으면 "초기화되지 않음" 메시지 표시)
- 멀티 도메인: `docs/specs/domains/*/` 디렉토리 및 파일
- 멀티 도메인: `docs/specs/cross-domain/integration-checklist.md` (선택)
